# 图片水印工具 v2.0 最终版使用说明

## 快速开始

1. 双击 WatermarkAppFinal.exe 启动程序
2. 点击"导入图片"或"导入文件夹"添加要处理的图片
3. 在中间区域调整水印设置并实时预览效果
4. 在右侧设置导出选项
5. 点击"导出所有图片"完成批量处理

## 界面布局

程序采用三栏式布局，解决了之前设置面板显示不全的问题：

### 左侧面板 - 文件管理
- **文件操作**：导入单张图片、导入整个文件夹、清空列表
- **图片列表**：显示所有导入的图片，点击可切换预览
- **模板管理**：保存和加载水印设置模板

### 中间面板 - 预览和水印设置
- **预览区域**：实时显示水印效果，支持自动缩放
- **水印设置**：
  - 水印文本：自定义文本内容
  - 字体大小：12-100可调节
  - 颜色选择：点击按钮选择任意颜色
  - 透明度：50-255范围调节
  - 位置选择：左上、右上、左下、右下、居中五个位置
  - 添加阴影：可选的文字阴影效果

### 右侧面板 - 导出设置 ⭐
- **输出格式**：
  - PNG：无损格式，支持透明度
  - JPEG：有损压缩，文件更小
  - JPEG质量：10-100可调节（仅JPEG格式显示）

- **文件命名规则** ⭐：
  - 保留原文件名：不修改原始文件名
  - 添加前缀：如"wm_原文件名.jpg"
  - 添加后缀：如"原文件名_watermarked.jpg"

- **尺寸调整** ⭐：
  - 启用尺寸调整：可选择是否调整输出图片尺寸
  - 按百分比：10%-200%缩放
  - 按宽度：指定宽度，高度自动等比例
  - 按高度：指定高度，宽度自动等比例

- **导出操作**：
  - 选择输出目录：指定保存位置
  - 导出所有图片：批量处理所有图片

## 主要功能特色

### 🎯 智能功能
- **自动日期提取**：从图片EXIF信息自动提取拍摄日期
- **实时预览**：所有设置修改立即在预览区域显示效果
- **批量处理**：一次性处理多张图片，显示进度条
- **防覆盖保护**：自动避免覆盖原始文件

### 🎨 水印定制
- **丰富的位置选择**：五个预设位置满足不同需求
- **颜色自由选择**：支持任意颜色的水印文字
- **透明度控制**：精确控制水印的透明程度
- **阴影效果**：增强文字可读性和美观度

### 📁 文件处理
- **多格式支持**：输入支持JPEG、PNG、BMP、TIFF
- **灵活输出**：可选PNG或JPEG格式输出
- **智能命名**：三种文件命名规则避免文件冲突
- **尺寸控制**：支持按比例或固定尺寸调整图片

### ⚙️ 配置管理
- **模板系统**：保存常用设置为模板，快速应用
- **自动保存**：程序自动记住上次使用的设置
- **设置持久化**：重启程序后设置不丢失

## 操作技巧

### 快速上手
1. **批量导入**：使用"导入文件夹"功能一次性添加整个文件夹的图片
2. **实时调整**：修改任何设置后立即查看预览效果
3. **模板应用**：为不同场景创建不同的水印模板

### 高级功能
1. **JPEG质量优化**：根据用途调整质量，网络分享用70-80，打印用90-100
2. **尺寸批量调整**：统一调整图片尺寸，适合社交媒体发布
3. **命名规则**：使用前缀/后缀避免文件名冲突

### 性能优化
- 程序使用多线程处理，大批量图片也能快速完成
- 内存优化设计，处理大图片时占用内存较少
- 轻量级打包，整个程序仅16.38MB

## 支持格式

### 输入格式
- JPEG (.jpg, .jpeg)
- PNG (.png)
- BMP (.bmp)
- TIFF (.tiff, .tif)

### 输出格式
- PNG：适合需要透明度或高质量的场景
- JPEG：适合网络分享或存储空间有限的场景

## 常见问题

### Q: 为什么有些图片没有自动提取到日期？
A: 程序会尝试从EXIF信息提取拍摄日期，如果没有则使用文件修改时间。部分图片可能没有EXIF信息。

### Q: 如何批量处理大量图片？
A: 使用"导入文件夹"功能，然后设置好水印参数，点击"导出所有图片"即可批量处理。

### Q: 水印位置不够精确怎么办？
A: 目前提供五个预设位置，基本覆盖常用需求。未来版本可能会增加自定义位置功能。

### Q: 导出的文件很大怎么办？
A: 对于JPEG格式，可以降低质量设置；也可以启用尺寸调整功能减小图片尺寸。

## 版本信息

**当前版本**：v2.0 最终版
**文件大小**：16.38MB
**系统要求**：Windows 7及以上
**开发语言**：Python + Tkinter
**图像处理**：Pillow库

## 更新日志

### v2.0 最终版
- ✅ 优化界面布局为三栏式设计
- ✅ 导出设置移至右侧独立面板
- ✅ 添加文件命名规则选项
- ✅ 增加JPEG质量调节功能
- ✅ 支持图片尺寸调整
- ✅ 解决设置面板显示不全问题
- ✅ 提升用户体验和操作便利性

---

**技术支持**：如有问题请查看项目文档或提交Issue
**项目地址**：https://github.com/your-repo/photo-watermark